<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Admin">   

   	<insert id = "insertAdmin" parameterType="Integer">	
	   	INSERT INTO Admin (user_id, name, email, phone)
		SELECT U.id, U.name, U.email, U.phone FROM User AS U WHERE U.id=#{user_id};
   	</insert>
   	
   	<select id="readAdmin" resultType="Admin">
	   select A.id, A.user_id, A.name, A.phone, A.email
		from Admin AS A
		JOIN User AS U
		ON U.id = A.user_id
		WHERE U.status = 1
		ORDER BY A.regdate desc;
   	</select>
   	<delete id="deleteAdmin" parameterType="Integer">
	   	delete from Admin
	   	where id = #{id}
   	</delete>

</mapper>
